<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Wallpaper with Rain Video</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body, html {
            height: 100%;
            overflow: hidden;
            position: relative;
        }

        /* پس‌زمینه روز/شب */
        .background {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: url('day-image.jpg'); /* پس‌زمینه روز */
            background-size: cover;
            background-position: center;
            transition: background-image 1s ease-in-out;
            filter: blur(4px);
            z-index: -2;
        }

        .background.night {
            background-image: url('night-image.jpg'); /* پس‌زمینه شب */
        }

        /* ویدیو باران */
        .rain-video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover; /* کل صفحه رو پوشش میده */
            pointer-events: none; /* ویدیو با کاربر تعامل نداشته باشه */
            z-index: -1; /* زیر محتوا و روی پس‌زمینه */
            opacity: 0.5; /* شفافیت دلخواه */
        }
    </style>
</head>
<body>
    <!-- ویدیو باران -->
    <video class="rain-video" autoplay loop muted>
        <source src="your-rain-video.mp4" type="video/mp4">
    </video>

    <!-- پس‌زمینه روز/شب -->
    <div class="background"></div>
    <!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Rain Overlay</title>
<style>
html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
}

/* پس‌زمینه */
body {
    background: url("background.webp") center center / cover no-repeat fixed;
}

/* Canvas باران */
/* canvas {
    position: fixed;
    inset: 0;
    pointer-events: none;
} */
</style>
</head>
<body>

<canvas id="rain"></canvas>

<script>
const canvas = document.getElementById("rain");
const ctx = canvas.getContext("2d");

function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
window.addEventListener("resize", resize);
resize();

/* قطره‌ها */
// const drops = [];
const DROP_COUNT = 180;

for (let i = 0; i < DROP_COUNT; i++) {
    drops.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        r: Math.random() * 1.5 + 0.5,
        speed: Math.random() * 3 + 1,
        alpha: Math.random() * 0.6 + 0.2
    });
}

function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    for (const d of drops) {
        ctx.beginPath();
        ctx.arc(d.x, d.y, d.r, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(255,255,255,${d.alpha})`;
        ctx.fill();

        d.y += d.speed;
        if (d.y > canvas.height) {
            d.y = -5;
            d.x = Math.random() * canvas.width;
        }
    }

    requestAnimationFrame(draw);
}

draw();
</script>

</body>
</html>

    <script>
        window.onload = function() {
            const background = document.querySelector('.background');

            function changeBackground() {
                const hour = new Date().getHours();
                if (hour >= 6 && hour < 18) {
                    // روز
                    background.classList.remove('night');
                    background.style.filter = 'blur(4px)';
                } else {
                    // شب
                    background.classList.add('night');
                    background.style.filter = 'blur(4px)';
                }
            }

            changeBackground();
            setInterval(changeBackground, 60 * 60 * 1000); // هر ساعت پس‌زمینه تغییر کنه
        }
    </script>
</body>
</html>
